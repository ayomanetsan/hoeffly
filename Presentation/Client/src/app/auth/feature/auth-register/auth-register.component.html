<main
  class="absolute top-0 left-0 z-10 flex min-h-screen w-full flex-col bg-marmelade-50 p-8 md:w-[465px] md:p-12"
>
  <a routerLink="/">
    <img
      ngSrc="/assets/logo.png"
      height="130"
      width="400"
      priority
      alt="Logo"
      class="mb-12 h-12 w-36"
    />
  </a>

  <h1 class="mb-8 text-3xl font-semibold text-marmelade-950">
    Create your account
  </h1>

  <p-button
    label="Continue with google"
    icon="pi pi-google"
    fluid="fluid"
    styleClass="bg-shark-500! hover:bg-shark-600! border-none!"
    (onClick)="loginWithGoogle()"
  />

  <p-divider align="center">
    <span class="px-2 text-gray-500">or</span>
  </p-divider>

  <form [formGroup]="registerForm" (ngSubmit)="register()">
    <div class="mb-4 flex flex-col gap-1">
      <input
        pInputText
        type="text"
        id="fullName"
        formControlName="fullName"
        placeholder="Full name"
        autocomplete="off"
        class="bg-white! text-marmelade-950! focus:border-marmelade-400!"
        fluid="fluid"
      />
      <p-message
        *ngIf="
          registerForm.get('fullName')?.invalid &&
          registerForm.get('fullName')?.touched
        "
        severity="error"
        variant="simple"
        size="small"
        >Full name is required</p-message
      >
    </div>
    <div class="mb-4 flex flex-col gap-1">
      <input
        pInputText
        type="email"
        id="email"
        formControlName="email"
        placeholder="Email"
        autocomplete="off"
        class="bg-white! text-marmelade-950! focus:border-marmelade-400!"
        fluid="fluid"
      />
      <p-message
        *ngIf="
          registerForm.get('email')?.invalid &&
          registerForm.get('email')?.touched
        "
        severity="error"
        variant="simple"
        size="small"
        >Email is invalid</p-message
      >
    </div>
    <div class="mb-4 flex flex-col gap-1">
      <p-password
        formControlName="password"
        placeholder="Password"
        toggleMask="toggleMask"
        fluid="fluid"
        autocomplete="off"
      >
        <ng-template #header></ng-template>
        <ng-template #footer *ngIf="registerForm.get('password')?.invalid">
          <p-divider />
          <ul class="my-0 ml-2 pl-2 leading-normal">
            <li>At least one lowercase</li>
            <li>At least one uppercase</li>
            <li>At least one numeric</li>
            <li>At least one symbol</li>
            <li>At least 8 characters</li>
          </ul>
        </ng-template>
      </p-password>
      <p-message
        *ngIf="
          registerForm.get('password')?.invalid &&
          registerForm.get('password')?.touched
        "
        severity="error"
        variant="simple"
        size="small"
        >Password is invalid</p-message
      >
    </div>
    <div class="mb-4 flex flex-col gap-1">
      <p-password
        formControlName="repeatPassword"
        placeholder="Repeat password"
        toggleMask="toggleMask"
        fluid="fluid"
        autocomplete="off"
        [feedback]="false"
      >
      </p-password>
      <p-message
        *ngIf="
          registerForm.hasError('passwordMismatch') &&
          registerForm.get('repeatPassword')?.touched
        "
        severity="error"
        variant="simple"
        size="small"
        >Passwords do not match</p-message
      >
    </div>
    <p-button
      label="Sign Up"
      fluid="fluid"
      type="submit"
      [disabled]="registerForm.invalid"
      [loading]="loading"
    />
  </form>

  <ul class="mt-auto text-marmelade-950">
    <li>
      By signing up you agree to our
      <a
        class="text-marmelade-400 underline transition-colors hover:bg-marmelade-400 hover:text-white"
        routerLink="/terms"
        >terms of service.</a
      >
    </li>
    <li>
      Already a member?
      <a
        class="text-marmelade-400 underline transition-colors hover:bg-marmelade-400 hover:text-white"
        routerLink="/auth/login"
        >Sign in.</a
      >
    </li>
  </ul>
</main>
<div class="magicpattern absolute"></div>
